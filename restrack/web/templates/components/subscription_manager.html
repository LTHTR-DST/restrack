<!-- Debug info: Component loaded -->
<div class="debug-info small text-muted mb-2">Component loaded. {{ worklists|length if worklists else 0 }} worklists
    available.</div>

{% if worklists %}
<div class="mb-3">
    <label class="form-label">Available Worklists</label>
    <div class="list-group" style="max-height: 200px; overflow-y: auto;">
        {% for worklist in worklists %}
        <div class="list-group-item d-flex justify-content-between align-items-center">
            <div>
                <strong>{{ worklist.name }}</strong>
                {% if worklist.description %}
                <br><small class="text-muted">{{ worklist.description }}</small>
                {% endif %}
            </div>
            <button class="btn btn-sm btn-outline-primary" onclick="toggleSubscription({{ worklist.id }}, true)">
                <i class="bi bi-plus"></i>
                Subscribe
            </button>
        </div>
        {% endfor %}
    </div>
</div>
<div class="mt-2">
    <button class="btn btn-sm btn-outline-secondary" hx-get="/worklists/subscription-manager"
        hx-target="#subscription-manager">
        <i class="bi bi-arrow-clockwise"></i>
        Refresh List
    </button>
</div>
{% else %}
<div class="text-center text-muted">
    <p>No worklists available to subscribe to.</p>
    <p><small>You are subscribed to all available worklists</small></p>
    <button class="btn btn-sm btn-outline-secondary" hx-get="/worklists/subscription-manager"
        hx-target="#subscription-manager">
        <i class="bi bi-arrow-clockwise"></i>
        Refresh List
    </button>
</div>
{% endif %}
